language: python

python:
  - "3.4"
  - "3.5"
  - "3.6"

install:
  - pip install -r requirements-test.txt

  # Since we develop a library, we want to make sure that it properly runs
  # after installation. We already ran into an issue when some files were
  # forgotten to be included to package_data and it was not caught by tests.
  - python setup.py install
  - rm -rfd m2cgen/

script:
  - pytest -v tests/ --cov=m2cgen/
  - flake8 .

after_success:
  - coveralls
